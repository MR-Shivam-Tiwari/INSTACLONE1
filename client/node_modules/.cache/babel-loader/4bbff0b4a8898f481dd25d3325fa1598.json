{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shivam Tiwari\\\\Downloads\\\\InstaClone_gidassignment\\\\InstaClone_gidassignment\\\\client\\\\src\\\\component\\\\form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from \"axios\";\nimport { useNavigate } from 'react-router-dom';\nimport './css/form.css';\nimport img1 from './image/icon.svg';\nimport camera from './image/camera1.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Addpost = () => {\n  _s();\n\n  var [form, setForm] = useState(\"\");\n  var [author, setAuthor] = useState(\"\");\n  var [location, setLocation] = useState(\"\");\n  var [file, setFile] = useState(\"\");\n\n  const nameUpdate = e => {\n    // Dealing with name field changes to update our state\n    // setForm({...form,[e.target.name]:e.target.value});\n    const {\n      value\n    } = e.target;\n    setForm(value);\n  };\n\n  const locationUpdate = e => {\n    // Dealing with name field changes to update our state\n    // setForm({...form,[e.target.name]:e.target.value});\n    const {\n      value\n    } = e.target;\n    setLocation(value);\n  };\n\n  const authorUpdate = e => {\n    // Dealing with name field changes to update our state\n    // setForm({...form,[e.target.name]:e.target.value});\n    const {\n      value\n    } = e.target;\n    setAuthor(value);\n    console.log(setAuthor);\n  };\n\n  const imageupload = e => {\n    //setFile({...file,[e.target.name]:e.target.files[0]});\n    setFile(e.target.files[0]); //setFile({...file,image:e.target.files[0]});\n\n    console.log(setFile);\n  }; //navigation path\n\n\n  const nav = useNavigate();\n\n  const handleSubmit = async e => {\n    // Once the form has been submitted, this function will post to the backend\n    e.preventDefault();\n    console.log(form);\n    var formData = new FormData();\n    formData.append(\"image\", file);\n    formData.append(\"author\", author);\n    formData.append(\"location\", location);\n    formData.append(\"description\", form);\n    const config = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    };\n    const res = await axios.post(\"http://localhost:8080/post\", formData, config);\n\n    if (res.data.status === 401 || !res.data) {\n      console.log(\"errror\");\n    } else {\n      nav(\"/postview\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"p1\",\n        src: img1,\n        alt: \"avtaar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"logot\",\n        children: \"Instaclone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"cam\",\n        src: camera,\n        alt: \"avtaar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"POST\",\n        onSubmit: handleSubmit,\n        encType: \"multipart/form-data\",\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"image\",\n          className: \"inputbox\",\n          onChange: imageupload,\n          encType: \"multipart/form-data\",\n          style: {\n            width: '90%',\n            border: \" 1px solid #999494\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 186\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          name: \"author\",\n          placeholder: \"Author\",\n          className: \"inputbox\",\n          onChange: authorUpdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          name: \"location\",\n          placeholder: \"Location\",\n          className: \"inputbox\",\n          onChange: locationUpdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 127\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          name: \"description\",\n          placeholder: \"Description\",\n          className: \"inputbox\",\n          onChange: nameUpdate,\n          style: {\n            width: '90%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 152\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Addpost, \"UHZCRK7rPZ/uGdq/Bv8RyHWh9Oc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Addpost;\nexport default Addpost;\n\nvar _c;\n\n$RefreshReg$(_c, \"Addpost\");","map":{"version":3,"names":["React","useState","axios","useNavigate","img1","camera","Addpost","form","setForm","author","setAuthor","location","setLocation","file","setFile","nameUpdate","e","value","target","locationUpdate","authorUpdate","console","log","imageupload","files","nav","handleSubmit","preventDefault","formData","FormData","append","config","headers","res","post","data","status","width","border"],"sources":["C:/Users/Shivam Tiwari/Downloads/InstaClone_gidassignment/InstaClone_gidassignment/client/src/component/form.js"],"sourcesContent":["import React, { useState }  from 'react'\r\nimport axios from \"axios\"\r\nimport {useNavigate} from 'react-router-dom'\r\nimport './css/form.css'\r\nimport img1 from './image/icon.svg';\r\nimport camera from './image/camera1.png';\r\n\r\n const Addpost= ()=> {\r\n\r\n    var [form,setForm]=useState(\"\")\r\n    var [author,setAuthor]=useState(\"\")\r\n    var [location,setLocation]=useState(\"\")\r\n    var[file,setFile]=useState(\"\")\r\n   \r\n    const nameUpdate=(e)=>{ // Dealing with name field changes to update our state\r\n        // setForm({...form,[e.target.name]:e.target.value});\r\n        const { value } = e.target;\r\n        setForm(value);\r\n       \r\n    }\r\n\r\n    const locationUpdate=(e)=>{ // Dealing with name field changes to update our state\r\n        // setForm({...form,[e.target.name]:e.target.value});\r\n        const { value } = e.target;\r\n        setLocation(value);\r\n      \r\n    }\r\n\r\n    const authorUpdate=(e)=>{ // Dealing with name field changes to update our state\r\n        // setForm({...form,[e.target.name]:e.target.value});\r\n        const { value } = e.target;\r\n        setAuthor(value);\r\n        console.log(setAuthor)\r\n    }\r\nconst imageupload=(e)=>{\r\n\r\n //setFile({...file,[e.target.name]:e.target.files[0]});\r\nsetFile(e.target.files[0])\r\n//setFile({...file,image:e.target.files[0]});\r\nconsole.log(setFile)\r\n}\r\n\r\n//navigation path\r\nconst nav=useNavigate()\r\n\r\n    const handleSubmit=async(e)=> { // Once the form has been submitted, this function will post to the backend\r\n        e.preventDefault();\r\n        console.log(form)\r\n\r\n     \r\n     var formData = new FormData();\r\n     formData.append(\"image\", file);\r\n     formData.append(\"author\", author);\r\n     formData.append(\"location\", location);\r\n     formData.append(\"description\", form);\r\n   \r\n \r\n     const config = {\r\n       headers: {\r\n         \"Content-Type\": \"multipart/form-data\"\r\n       }\r\n     }\r\n \r\n     const res = await axios.post(\"http://localhost:8080/post\", formData, config);\r\n \r\n     if (res.data.status === 401 || !res.data) {\r\n       console.log(\"errror\")\r\n     } else {\r\n       \r\n        nav(\"/postview\") \r\n     }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        <header>\r\n     \r\n        <img id='p1' src={img1} alt='avtaar'></img>\r\n      <p id='logot'>Instaclone</p>\r\n      <img id='cam' src={camera} alt='avtaar' ></img>\r\n      \r\n       </header>\r\n        <div className=\"main\">\r\n            <form method='POST' onSubmit={handleSubmit} encType=\"multipart/form-data\" className='form'>\r\n              \r\n                <input type=\"file\"  name=\"image\"  className='inputbox'   onChange={imageupload} encType=\"multipart/form-data\" style={{width:'90%', border:\" 1px solid #999494\"}}></input><br></br>\r\n                <input required name=\"author\" placeholder='Author' className='inputbox'   onChange={authorUpdate}></input>\r\n              <input required name=\"location\" placeholder='Location' className='inputbox'   onChange={locationUpdate}></input><br></br>\r\n                <input required name=\"description\" placeholder='Description' className='inputbox'  onChange={nameUpdate} style={{width:'90%'}}></input><br></br>\r\n                <button type=\"submit\" >post</button>\r\n            </form>\r\n        </div>\r\n        </>\r\n    )\r\n    \r\n}\r\n\r\nexport default Addpost"],"mappings":"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"},"metadata":{},"sourceType":"module"}