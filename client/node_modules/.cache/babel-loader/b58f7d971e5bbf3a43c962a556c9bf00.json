{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Shivam Tiwari/Downloads/InstaClone_gidassignment/InstaClone_gidassignment/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Shivam Tiwari/Downloads/InstaClone_gidassignment/InstaClone_gidassignment/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Shivam Tiwari/Downloads/InstaClone_gidassignment/InstaClone_gidassignment/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from\"axios\";import{useNavigate}from'react-router-dom';import'./css/form.css';import img1 from'./image/icon.svg';import camera from'./image/camera1.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Addpost=function Addpost(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),author=_useState4[0],setAuthor=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),location=_useState6[0],setLocation=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),file=_useState8[0],setFile=_useState8[1];var nameUpdate=function nameUpdate(e){// Dealing with name field changes to update our state\n// setForm({...form,[e.target.name]:e.target.value});\nvar value=e.target.value;setForm(value);};var locationUpdate=function locationUpdate(e){// Dealing with name field changes to update our state\n// setForm({...form,[e.target.name]:e.target.value});\nvar value=e.target.value;setLocation(value);};var authorUpdate=function authorUpdate(e){// Dealing with name field changes to update our state\n// setForm({...form,[e.target.name]:e.target.value});\nvar value=e.target.value;setAuthor(value);console.log(setAuthor);};var imageupload=function imageupload(e){//setFile({...file,[e.target.name]:e.target.files[0]});\nsetFile(e.target.files[0]);//setFile({...file,image:e.target.files[0]});\nconsole.log(setFile);};//navigation path\nvar nav=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var formData,config,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Once the form has been submitted, this function will post to the backend\ne.preventDefault();console.log(form);formData=new FormData();formData.append(\"image\",file);formData.append(\"author\",author);formData.append(\"location\",location);formData.append(\"description\",form);config={headers:{\"Content-Type\":\"multipart/form-data\"}};_context.next=10;return axios.post(\"https://instiii.herokuapp.com/post\",formData,config);case 10:res=_context.sent;if(res.data.status===401||!res.data){console.log(\"errror\");}else{nav(\"/postview\");}case 12:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"img\",{id:\"p1\",src:img1,alt:\"avtaar\"}),/*#__PURE__*/_jsx(\"p\",{id:\"logot\",children:\"Instaclone\"}),/*#__PURE__*/_jsx(\"img\",{id:\"cam\",src:camera,alt:\"avtaar\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",onSubmit:handleSubmit,encType:\"multipart/form-data\",className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",className:\"inputbox\",onChange:imageupload,encType:\"multipart/form-data\",style:{width:'90%',border:\" 1px solid #999494\"}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"author\",placeholder:\"Author\",className:\"inputbox\",onChange:authorUpdate}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"location\",placeholder:\"Location\",className:\"inputbox\",onChange:locationUpdate}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"description\",placeholder:\"Description\",className:\"inputbox\",onChange:nameUpdate,style:{width:'90%'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"post\"})]})})]});};export default Addpost;","map":{"version":3,"names":["React","useState","axios","useNavigate","img1","camera","Addpost","form","setForm","author","setAuthor","location","setLocation","file","setFile","nameUpdate","e","value","target","locationUpdate","authorUpdate","console","log","imageupload","files","nav","handleSubmit","preventDefault","formData","FormData","append","config","headers","post","res","data","status","width","border"],"sources":["C:/Users/Shivam Tiwari/Downloads/InstaClone_gidassignment/InstaClone_gidassignment/client/src/component/form.js"],"sourcesContent":["import React, { useState }  from 'react'\r\nimport axios from \"axios\"\r\nimport {useNavigate} from 'react-router-dom'\r\nimport './css/form.css'\r\nimport img1 from './image/icon.svg';\r\nimport camera from './image/camera1.png';\r\n\r\n const Addpost= ()=> {\r\n\r\n    var [form,setForm]=useState(\"\")\r\n    var [author,setAuthor]=useState(\"\")\r\n    var [location,setLocation]=useState(\"\")\r\n    var[file,setFile]=useState(\"\")\r\n   \r\n    const nameUpdate=(e)=>{ // Dealing with name field changes to update our state\r\n        // setForm({...form,[e.target.name]:e.target.value});\r\n        const { value } = e.target;\r\n        setForm(value);\r\n       \r\n    }\r\n\r\n    const locationUpdate=(e)=>{ // Dealing with name field changes to update our state\r\n        // setForm({...form,[e.target.name]:e.target.value});\r\n        const { value } = e.target;\r\n        setLocation(value);\r\n      \r\n    }\r\n\r\n    const authorUpdate=(e)=>{ // Dealing with name field changes to update our state\r\n        // setForm({...form,[e.target.name]:e.target.value});\r\n        const { value } = e.target;\r\n        setAuthor(value);\r\n        console.log(setAuthor)\r\n    }\r\nconst imageupload=(e)=>{\r\n\r\n //setFile({...file,[e.target.name]:e.target.files[0]});\r\nsetFile(e.target.files[0])\r\n//setFile({...file,image:e.target.files[0]});\r\nconsole.log(setFile)\r\n}\r\n\r\n//navigation path\r\nconst nav=useNavigate()\r\n\r\n    const handleSubmit=async(e)=> { // Once the form has been submitted, this function will post to the backend\r\n        e.preventDefault();\r\n        console.log(form)\r\n\r\n     \r\n     var formData = new FormData();\r\n     formData.append(\"image\", file);\r\n     formData.append(\"author\", author);\r\n     formData.append(\"location\", location);\r\n     formData.append(\"description\", form);\r\n   \r\n \r\n     const config = {\r\n       headers: {\r\n         \"Content-Type\": \"multipart/form-data\"\r\n       }\r\n     }\r\n \r\n     const res = await axios.post(\"https://instiii.herokuapp.com/post\", formData, config);\r\n \r\n     if (res.data.status === 401 || !res.data) {\r\n       console.log(\"errror\")\r\n     } else {\r\n       \r\n        nav(\"/postview\") \r\n     }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        <header>\r\n     \r\n        <img id='p1' src={img1} alt='avtaar'></img>\r\n      <p id='logot'>Instaclone</p>\r\n      <img id='cam' src={camera} alt='avtaar' ></img>\r\n      \r\n       </header>\r\n        <div className=\"main\">\r\n            <form method='POST' onSubmit={handleSubmit} encType=\"multipart/form-data\" className='form'>\r\n              \r\n                <input type=\"file\"  name=\"image\"  className='inputbox'   onChange={imageupload} encType=\"multipart/form-data\" style={{width:'90%', border:\" 1px solid #999494\"}}></input><br></br>\r\n                <input required name=\"author\" placeholder='Author' className='inputbox'   onChange={authorUpdate}></input>\r\n              <input required name=\"location\" placeholder='Location' className='inputbox'   onChange={locationUpdate}></input><br></br>\r\n                <input required name=\"description\" placeholder='Description' className='inputbox'  onChange={nameUpdate} style={{width:'90%'}}></input><br></br>\r\n                <button type=\"submit\" >post</button>\r\n            </form>\r\n        </div>\r\n        </>\r\n    )\r\n    \r\n}\r\n\r\nexport default Addpost"],"mappings":"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"},"metadata":{},"sourceType":"module"}